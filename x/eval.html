<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">

		<title>Run Arbitrary JS</title>
		<meta name="viewport" content="width=device-width">

		<!-- This page lets you run JS code on browsers without dev tools. -->
	</head>
	<body>
		<button id="run">Execute</button>
		<br>
		<textarea id="code" cols="50" rows="12">return "Hello";</textarea>
		<pre id="out">
		</pre>
		<script type="text/javascript">
'use strict';

(function() {
	var out = document.getElementById('out');

	function addMsg(args, css) {	
		var div = out.appendChild(document.createElement("DIV"));

		for (var i = 0; i < args.length; ++i)
			if (typeof args[i] == "string") {
				div.innerText += JSON.stringify(args[i], null, "\t") + "\n";
			} else if (typeof args[i] == "object" && args[i] != null && !(args[i] instanceof Error)) {
				div.innerText += args[i].constructor.name + " " + JSON.stringify(args[i], null, "\t") + "\n";
			} else {
				div.innerText += String(args[i]) + "\n";
			}

		div.style = "border: 1px solid #999; padding: 0.25em;" + css;

		return div;
	}

	document.getElementById("run").onclick = function() {
		try {
			console.clear();

			addMsg([new Function(document.getElementById("code").value)()], "border-color: #FFF; color: #080;");
		} catch (error) {
			console.error(error);
		}
	};

	console.clear = function() { out.innerHTML = ""; };
	console.info = function() { addMsg(arguments, "border-color: #00F; color: #009;"); };
	console.log = function() { addMsg(arguments, ""); };
	console.warn = function() { addMsg(arguments, "border-color: #C90; color: #630;"); };
	console.error = function() { addMsg(arguments, "border-color: #F00; color: #900;"); };
})();
		</script>
	</body>
</html>
